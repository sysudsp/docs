# 实验零：组装实验平台

## 平台的组成

我们向同学们提供一套针对本课程量身打造的开发板，核心部分为[立创·地阔星 STM32F103C8T6 开发板](https://lckfb.com/project/detail/lckfb-dkx-stm32f103c8t6)，搭配若干其他芯片、按钮、指示灯等外围设备，以满足实验需求。

:::info{title=表述的约定}

如无特殊说明，后续的`开发板`均指由我们设计的电路板。为了便于区分，可简称`立创·地阔星 STM32F103C8T6 开发板`为`最小系统板`。

:::

## 物料清单

物料清单，英文表述为 Bill of Materials，业内常简称为 BOM。本课程配套的开发板需要同学们自行组装，建议同学们在拿到相关物料后先进行清点确认。

| 物料名称       | 数量  | 说明             |
|------------|-----|----------------|
| 实验开发板      | 1 套 | 所有元件需要自行焊接，见下表 |
| 最小系统板      | 1 套 | 可能需要自行焊接排针     |
| LCD1602A   | 1 套 | 可能需要自行焊接排针     |
| ST-Link V2 | 1 个 |                |
| USB 转 TTL  | 1 个 |                |
| 蜂鸣器        | 1 个 |                |

| 物料名称                 | 封装      | 规格       | 位号                                | 数量 |
|----------------------|---------|----------|-----------------------------------|----|
| 电容                   | 0805    | 10nF     | C1, C2, C5                        | 3  |
| 电容                   | 0805    | 100nF    | C3, C4                            | 2  |
| 电容                   | 1206    | 100uF    | C6                                | 1  |
| 电容                   | 0805    | 10uF     | C7                                | 1  |
| 电阻                   | 0805    | 100Ω     | R2, R3, R9                        | 3  |
| 电阻                   | 0805    | 300Ω     | R4, R5, R6, R7                    | 4  |
| 电阻                   | 0805    | 4.7kΩ    | R8                                | 1  |
| 电阻                   | 0805    | 2kΩ      | R10, R11, R12, R13, R15, R16, R17 | 7  |
| 发光二极管LED             | 0805    |          | D1，D2，D3，D4                       | 4  |
| 时钟芯片                 | DIP-8   | DS1302ZN | U2                                | 1  |
| DA数模转换器              | SOP-8   | TLC5615  | U5                                | 1  |
| EEPROM               | SOP-8   | AT24C02  | U7                                | 1  |
| 电池底座 适用电池：CR1220 | CR1220  | CR1220   | U3                                | 1  |
| 轻触开关                 | SW-PB   | 按键       | KEY_RST1，KEY_1，KEY_2              | 3  |
| 温度传感器                | TO-92   | DS18B20  | U4                                | 1  |
| 电压基准芯片               | TO-92-3 | LM336Z25 | U6                                | 1  |
| 排针母头1×16-2.54mm      | SIP16   |          | LCD1                              | 1  |
| 排针母头1×20-2.54mm      | SIP20   |          | U1                                | 2  |
| 排针1x20P-2.54mm       | SIP20   |          | J1，J2                             | 2  |
| 排针1x4P-2.54mm        | SIP4    |          | J3                                | 1  |
| 排针1x2P-2.54mm        | SIP2    |          | J4，J5，J6                          | 3  |
| 晶振                   | R38     | 32.768K  | Y1                                | 1  |
| 精密可调电阻               | VR5     | 10kΩ     | R1，R14                            | 2  |
| 螺柱                   |         | M3*15+6  |                                   | 4  |
| 螺母                   |         | M3*10    |                                   | 4  |

## 器件的焊接

焊接是一门手艺活。本实验需要同学们使用烙铁自行焊接好所有的器件，没有焊接经验的同学建议先在网络上自行学习相关知识再动手。焊接需要使用高温，请同学们注意保护自己和他人的人身安全。

焊接顺序大致为先贴片元件后直插元件，先较矮的元件后较高的元件。上面给出的物料清单已经大致按照顺序排列，焊接时可以参考。焊接排针时，可以借助其他物品支撑，并且先焊接好两端的引脚完成整体位置的固定。

:::tip{title=概念解释}

- `焊盘`：元件与电路导通的金属连接点。
- `直插元件`：带长金属引脚的元件，焊接时将引脚插入 PCB 孔后焊接。
- `贴片元件`：较为扁平、无引脚或引脚极短的元件，焊接时将元件放置于焊盘上后焊接。

:::

:::tip{title=焊接知识}

需要同学们自行搜寻和学习，例如[《烙铁焊接速通教程_锡焊速成教学(含元器件引脚识读、拆焊)》](https://www.bilibili.com/video/BV1vq3KeAEmC)，以及下面的一张关于直插元件焊接的图片。

![电路焊接](./assets/welding.png)

以上内容仅作为示例和参考。

:::

:::danger{title=不要着急上电}

为了保障人身和财产安全，焊接完成后不要立即连接电源，应当按照后面的指引先进行短路测试。

:::

## 最终效果

【画大饼】：开发板 3D 渲染图或实物照片

## 测试

首先，使用万用表测量电源与地之间是否存在短路。我们在开发板右下角设计了 3 个测试点可供测量，使用万用表的通断档或电阻档分别测量 `+5V` 和 `VCC/3.3V` 对 `GND` 是否短路。如果测量结果为万用表发出蜂鸣或电阻很小，则说明系统中存在短路，需要找到焊接错误的地方并进行修复。

然后，使用 ST-Link 调试器连接开发板，具体做法是使用 4 根杜邦线将最小系统板下方的 4 个排针连接到 ST-Link 调试器上的对应针脚上，以针脚的名字相同或相似为准。连接完毕后再三检查是否正确。

最后，将调试器连接到电脑，然后按照我们提供的测试程序包中的说明，将测试程序下载到芯片中运行，并检查是否能够正确运行。

## 接下来

安装一款合适的 [IDE](../reference/ide.md)，自由探索，开启你的 STM32 学习之旅。不要忘记我们提供的[参考文档](../reference/index.md)。
